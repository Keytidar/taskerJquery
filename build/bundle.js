(()=>{"use strict";var t={checkBg:function(){$("#tasks-ul").length>0?$("#tasks-ul").addClass("bg-logo"):$("#tasks-ul").removeClass("bg-logo")},errorInput:function(t){var e=t.attr("type"),a=t.data("origPlaceholder");"date"!==e&&"time"!==e&&(t.val(""),t.addClass("bg-danger"),t.attr("placeholder",a?"Wrong ".concat(a.toLowerCase()):""),setTimeout(function(){t.removeClass("bg-danger text-white"),t.attr("placeholder",a)},4e3))},resetInputs:function(){$("input").val(""),$("textarea").val(""),$("#task-date-input").val((new Date).toISOString().slice(0,10)),$("#task-time-input").val((new Date).toTimeString().slice(0,5)),$("#task-color").val("#000000")},saveTaskLocal:function(t){localStorage.setItem("taskStorage",JSON.stringify(t))},createId:function(t){return(t?t+"-":"")+Date.now().toString(36)+"-"+Math.random().toString(36).slice(2,8)},changeDone:function(t){t.toggleClass("done")},displayTask:function(a){var n=a.isDone?"checked":"",o=a.isDone?"opacity-50":"",r='\n            <li id="'.concat(a.id,'" class="').concat(o,'" style="background-color:').concat(e.hexToRgba(a.color,.4),'">\n            <div class="d-flex align-items-center gap-3" >\n            <h1>').concat(a.header,'</h1>\n            <h5 class="mb-0 text-truncate">').concat(a.data,'</h5>\n            <div class="ms-auto align-text-center d-flex align-items-center gap-3">\n              <span>').concat(a.date,"  ").concat(a.time,'</span>\n                <input type="checkbox" class="btn-check" id="').concat("checkbox-"+a.id,'" autocomplete="off" ').concat(n,'>\n                <label class="btn btn-outline-primary done-button" for="').concat("checkbox-"+a.id,'">‚úîÔ∏é</label>\n              <button type="button" class="btn btn-dark rmv-button">üóëÔ∏è</button>\n            </div>\n        </div>\n          </li>');$("#tasks-ul").append(r),t.resetInputs()},displayStorageData:function(e){if(Array.isArray(e)&&e.length>0)try{e.forEach(function(e){t.displayTask(e)})}catch(t){console.error("Storage reading error, clearing storage"),console.error(t)}},toggleDone:function(t){t.isDone=!t.isDone}},e={createId:function(t){return(t?t+"-":"")+Date.now().toString(36)+"-"+Math.random().toString(36).slice(2,8)},hexToRgba:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t&&/^#([A-Fa-f0-9]{6})$/.test(t)||(console.warn('Invalid HEX color format: "'.concat(t,'", fallback to #000000')),t="#000000");var a=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return"rgba(".concat(a,", ").concat(n,", ").concat(o,", ").concat(e,")")}};function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n)}}function o(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}var i=JSON.parse(localStorage.getItem("taskStorage")||"[]");$(window).on("load",function(){$("#preloader").addClass("d-none"),console.warn("window loading done")}),t.resetInputs(),t.displayStorageData(i);var c=o(function t(a,n,o,r,i){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.createId("task"),this.header=a,this.data=n,this.date=o,this.time=r,this.color=i,this.isDone=c,this.createdAt=(new Date).toLocaleString()});$("#invisible-container").on("click",function(e){var a=$(e.target.closest("li")),n=a.attr("id"),o=i.findIndex(function(t){return t.id===n}),r=i.find(function(t){return t.id===n});return e.target.showPicker?e.target.showPicker():$(e.target).hasClass("rmv-button")?(i.splice(o,1),a.remove(),void t.saveTaskLocal(i)):$(e.target).hasClass("done-button")?($(e.target).closest("li").toggleClass("opacity-50"),t.toggleDone(r),void t.saveTaskLocal(i)):void($(e.target).is("h1, h5")&&($("#titleModal").text(r.header),$("#textModal").text(r.data),new bootstrap.Modal(document.getElementById("myModal")).show()))}),$("#task-submit").on("submit",function(e){e.preventDefault();var a=$("#task-heading").val().trim(),n=$("#task-info").val().trim(),o=$("#task-date-input").val(),r=$("#task-time-input").val(),s=new Date("".concat(o,"T").concat(r)),l=new Date,u=$("#task-color").val(),d=0;if(a.length<=3&&(t.errorInput($("#task-heading")),d++,console.log(d)),n.length<=3&&(t.errorInput($("#task-info")),d++),s<=l&&(t.errorInput($("#task-date-input")),t.errorInput($("#task-time-input"))),!d){var g=new c(a,n,o,r,u,!1);t.displayTask(g),i.push(g),t.saveTaskLocal(i),console.log(g)}})})();